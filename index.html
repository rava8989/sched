<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Pure Schedule</title>

<style>
:root{
  /* grid + headers */
  --grid:#6a6a6a;

  /* darkness scale (0=white, 10=black)
     We implement using greys:
     9/10 -> #1a1a1a
     7/10 -> #4d4d4d
     5/10 -> #7a7a7a
     row 2/10 -> #e6e6e6
     row 1/10 -> #f0f0f0
     weekday base -> #f6f6f6
  */
  --hdr9:#1a1a1a;

  --sun7:#4d4d4d;
  --sat5:#7a7a7a;

  --wk:#f6f6f6;

  --row2:#e6e6e6;
  --row1:#f0f0f0;

  --holiday:#b30000;
}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:#fff;
}

header{
  position:sticky; top:0; z-index:20;
  background:#fff;
  border-bottom:2px solid var(--grid);
  padding:8px;
}

.controls{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  align-items:center;
}

select,input,button{
  padding:6px 8px;
  font-size:14px;
  border:2px solid var(--grid);
  border-radius:8px;
  background:#fff;
}

button{cursor:pointer}

.wrap{ padding:8px; }

.panel{
  border:2px solid var(--grid);
  border-radius:10px;
  margin-bottom:12px;
  overflow:hidden;
}

.monthHeader{
  background:var(--hdr9);
  color:#fff;
  padding:8px 12px;
  font-weight:900;
  text-transform:uppercase;
  font-size:14px;
}

.scroll{
  overflow-x:auto;
  -webkit-overflow-scrolling:touch;
}

table{
  border-collapse:collapse;
  font-family:ui-monospace,Menlo,Consolas,monospace;
  font-size:12px;
  width:max-content;
  min-width:100%;
}

th,td{
  border:1px solid var(--grid);
  text-align:center;
  padding:0;
  height:28px;
  min-width:34px;
}

/* Sticky NAME only */
th.name, td.name{
  position:sticky;
  left:0;
  z-index:6;
  text-align:left;
  padding:0 8px;
  min-width:190px;
  font-family:system-ui;
  font-weight:900;
}

/* Header rows (date + dow) = 9/10 dark */
tr.hdrRow th{
  background:var(--hdr9);
  color:#fff;
  font-weight:900;
}
tr.hdrRow th.name{
  background:var(--hdr9);
  color:#fff;
}

/* Column backgrounds (these win over row striping) */
.wkCol{ background:var(--wk) !important; color:#111; }
.satCol{ background:var(--sat5) !important; color:#111; }
.sunCol{ background:var(--sun7) !important; color:#fff; }

/* Employee row striping for weekdays only.
   We apply it ONLY to weekday cells, not weekend cells. */
tr.r2 td.wkCol{ background:var(--row2) !important; }
tr.r1 td.wkCol{ background:var(--row1) !important; }

/* Name cell striping matches the row shade */
tr.r2 td.name{ background:var(--row2) !important; }
tr.r1 td.name{ background:var(--row1) !important; }

/* Codes: keep simple (no heavy blocks). Just bold. */
td{ font-weight:900; }

/* HOL red text (keep background) */
td.hol{
  color:var(--holiday) !important;
  font-weight:1000;
}

/* Make RDO/MDO NOT black — just bold like everything else */
td[data-code="RDO"], td[data-code="MDO"]{
  letter-spacing:0.2px;
}

/* Mobile tweaks */
@media (max-width:700px){
  th.name, td.name{ min-width:150px; }
  table{ font-size:11px; }
}
</style>
</head>

<body>
<header>
  <div class="controls">
    <label>Start Month
      <input id="startMonth" type="month">
    </label>

    <label>Show Months
      <select id="showMonths">
        <option value="3">3</option>
        <option value="4">4</option>
      </select>
    </label>

    <button id="prev">◀</button>
    <button id="next">▶</button>
    <button id="today">This Month</button>
  </div>
</header>

<div class="wrap" id="wrap"></div>

<script>
/* ================= BASE DATA ================= */

const ANCHOR = "2026-01-01";
const LOOP = 42;

const SLOTS = {
1:["R","R","RDO","RDO","RDO","MDO","C","C/A","C","C","C","C","RDO","RDO","B","B","B","B","B","B","RDO","RDO","A","A","A","A","A/C","A","MDO","RDO","RDO","RDO","B","B","B","B","B","RDO","RDO","R","R","R"],
2:["C/A","C","C","C","C","RDO","RDO","B","B","B","B","B","B","RDO","RDO","A","A","A","A","A/C","A","MDO","RDO","RDO","RDO","B","B","B","B","B","RDO","RDO","R","R","R","R","R","RDO","RDO","RDO","MDO","C"],
3:["B","B","B","B","B","B","RDO","RDO","A","A","A","A","A/C","A","MDO","RDO","RDO","RDO","B","B","B","B","B","RDO","RDO","R","R","R","R","R","RDO","RDO","RDO","MDO","C","C/A","C","C","C","C","RDO","RDO"],
4:["RDO","A","A","A","A","A/C","A","MDO","RDO","RDO","RDO","B","B","B","B","B","RDO","RDO","R","R","R","R","R","RDO","RDO","RDO","MDO","C","C/A","C","C","C","C","RDO","RDO","B","B","B","B","B","B","RDO"],
5:["MDO","RDO","RDO","RDO","B","B","B","B","B","RDO","RDO","R","R","R","R","R","RDO","RDO","RDO","MDO","C","C/A","C","C","C","C","RDO","RDO","B","B","B","B","B","B","RDO","RDO","A","A","A","A","A/C","A"],
6:["B","B","RDO","RDO","R","R","R","R","R","RDO","RDO","RDO","MDO","C","C/A","C","C","C","C","RDO","RDO","B","B","B","B","B","B","RDO","RDO","A","A","A","A","A/C","A","MDO","RDO","RDO","RDO","B","B","B"]
};

const PEOPLE=[
 {n:"Kingston, Joseph C.",s:1},
 {n:"Rodriguez, Roger",s:1},
 {n:"Joseph, George R",s:2},
 {n:"Ramnarine, Ashram",s:2},
 {n:"Segovia, Eduardo M",s:3},
 {n:"Victoria, Robert",s:3},
 {n:"Bouaziz, Abdelghani",s:4},
 {n:"Gragossian, Alan",s:4},
 {n:"Handel, Joseph",s:5},
 {n:"Rakhmanov, Ravshan",s:5},
 {n:"Rodriguez, Alexander",s:6},
 {n:"Svenjak, Mark",s:6}
];

/* 2025 holidays (red HOL text) */
const HOL=new Set([
  "2025-01-01","2025-01-20","2025-02-17",
  "2025-05-26","2025-06-19","2025-06-03","2025-06-06",
  "2025-09-01","2025-10-13","2025-11-11",
  "2025-11-27","2025-11-28","2025-12-25"
]);

/* ================= UTIL ================= */

const pad=n=>String(n).padStart(2,"0");
const iso=d=>`${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
const idx=i=>((i%LOOP)+LOOP)%LOOP;

function base(emp,date){
  const a=new Date(ANCHOR);
  const di=Math.floor((date-a)/86400000);
  return SLOTS[emp.s][idx(di)];
}

function colClassForDow(w){
  // w: 0 Sun ... 6 Sat
  if(w===0) return "sunCol";
  if(w===6) return "satCol";
  return "wkCol";
}

/* ================= RENDER ================= */

const wrap=document.getElementById("wrap");

let start=new Date();
start.setDate(1);

function setMonthInput(){
  document.getElementById("startMonth").value = `${start.getFullYear()}-${pad(start.getMonth()+1)}`;
}

function render(){
  wrap.innerHTML="";
  const show=+document.getElementById("showMonths").value;

  for(let m=0;m<show;m++){
    drawMonth(new Date(start.getFullYear(), start.getMonth()+m, 1));
  }
}

function drawMonth(d){
  const y=d.getFullYear(), m=d.getMonth();
  const days=new Date(y,m+1,0).getDate();

  const panel=document.createElement("div");
  panel.className="panel";

  const header=document.createElement("div");
  header.className="monthHeader";
  header.textContent = `${d.toLocaleString("default",{month:"long"})} ${y}`;
  panel.appendChild(header);

  const sc=document.createElement("div");
  sc.className="scroll";

  const t=document.createElement("table");

  // header row (day numbers) — same color across row (9/10 dark)
  let tr=document.createElement("tr");
  tr.className="hdrRow";
  tr.innerHTML = `<th class="name">NAME</th>`;
  for(let day=1; day<=days; day++){
    const dt=new Date(y,m,day);
    const cls=colClassForDow(dt.getDay());
    tr.innerHTML += `<th class="${cls}">${day}</th>`;
  }
  t.appendChild(tr);

  // header row (DOW) — same color across row (9/10 dark)
  tr=document.createElement("tr");
  tr.className="hdrRow";
  tr.innerHTML = `<th class="name"></th>`;
  const dows=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];
  for(let day=1; day<=days; day++){
    const dt=new Date(y,m,day);
    const cls=colClassForDow(dt.getDay());
    tr.innerHTML += `<th class="${cls}">${dows[dt.getDay()]}</th>`;
  }
  t.appendChild(tr);

  // people rows with striping 2/10 then 1/10 then repeat, BUT NOT overriding weekend columns
  PEOPLE.forEach((ppl, i)=>{
    const r=document.createElement("tr");
    r.className = (i%2===0) ? "r2" : "r1"; // first row 2/10, second 1/10

    r.innerHTML = `<td class="name">${ppl.n}</td>`;

    for(let day=1; day<=days; day++){
      const dt=new Date(y,m,day);
      const w=dt.getDay();
      const cls = colClassForDow(w);

      const code = base(ppl, dt);
      const isHol = HOL.has(iso(dt));

      const td=document.createElement("td");
      td.className = cls + (isHol ? " hol" : "");
      td.dataset.code = code;
      td.textContent = isHol ? "HOL" : code;

      r.appendChild(td);
    }
    t.appendChild(r);
  });

  sc.appendChild(t);
  panel.appendChild(sc);
  wrap.appendChild(panel);
}

/* ================= CONTROLS ================= */

document.getElementById("showMonths").addEventListener("change", ()=>{ setMonthInput(); render(); });

document.getElementById("startMonth").addEventListener("change", (e)=>{
  start = new Date(e.target.value + "-01");
  start.setDate(1);
  setMonthInput();
  render();
});

document.getElementById("prev").addEventListener("click", ()=>{
  start.setMonth(start.getMonth()-1);
  start.setDate(1);
  setMonthInput();
  render();
});

document.getElementById("next").addEventListener("click", ()=>{
  start.setMonth(start.getMonth()+1);
  start.setDate(1);
  setMonthInput();
  render();
});

document.getElementById("today").addEventListener("click", ()=>{
  start = new Date();
  start.setDate(1);
  setMonthInput();
  render();
});

setMonthInput();
render();
</script>
</body>
</html>
